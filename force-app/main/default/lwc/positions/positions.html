<template>
    <lightning-card title="Positions">
        <div class="slds-m-around_medium">
            <lightning-combobox
                style="margin-bottom: 5px;"
                name="filterDropdown"
                label="Filter By Status"
                value={selectedFilterOption}
                options={filterOptions}
                onchange={handleFilterChange}>
            </lightning-combobox>
        </div>
    </lightning-card>
    <lightning-card  variant="Narrow" class="cardSpinner">
                <div if:true={showSpinner}>
                    <lightning-spinner
                        alternative-text="Loading..." variant="brand">
                    </lightning-spinner>
                </div>
                <div class="slds-var-p-around_small">
                    <template if:true={data}>
                        <c-custom-dt-type-lwc
                            key-field="Id"
                            data={visibleData} 
                            columns={columns} 
                            onvalueselect={handleSelection}
                            draft-values={draftValues} 
                            oncellchange={handleCellChange}
                            onsave={handleSave}
                            oncancel={handleCancel}
                            hide-checkbox-column>
                        </c-custom-dt-type-lwc>
                    </template>
                </div>
            </lightning-card>
        <lightning-card>
                <c-pagination
                current-page-data={data}
                onpaginate={handleDisplayData}
                perpage={recordsPerPage}></c-pagination>
        </lightning-card>
</template>
