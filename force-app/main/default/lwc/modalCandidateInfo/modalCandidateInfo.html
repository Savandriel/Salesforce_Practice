<template>
    <lightning-modal-header class="modal-header" label={candidate.name} onclick={navigateToRecordPage}>
        <div class="tooltip-display slds-popover slds-popover_tooltip slds-nubbin_bottom-left" role="tooltip" id="help" style="position:absolute;top:-80%;left:0;">
            <div class="slds-popover__body">Go to Candidate Details</div>
          </div>
    </lightning-modal-header>
    <lightning-modal-body>
        <div class="candidate-info text-size-1_5-em slds-grid slds-wrap slds-grid_align-space slds-text-align_center slds-var-m-bottom_small">
            <template for:each={candidate.fields} for:item="field" >
                <p key={field.key} class="candidate-info__item slds-col slds-var-p-bottom_small"><b>{field.key}:</b> {field.value}</p>
            </template>
            <template for:each={candidate.avatarFields} for:item="avatarField" >
                <p key={avatarField.key} class="candidate-info__item slds-col slds-var-p-bottom_small"><b>{avatarField.key}: </b> 
                    <template lwc:if={displayAvatars}>
                        <span class="slds-avatar">
                            <lightning-avatar src={avatarField.value.SmallPhotoUrl}
                                            fallback-icon-name="standard:avatar"
                                            alternative-text="user photo" 
                                            variant="circle"
                                            class="slds-avatar_medium">
                            </lightning-avatar>
                        </span>
                    </template> {avatarField.value.Name}</p>
            </template>
        </div>
        <h2 class="ja-title slds-text-heading_medium slds-text-align_center slds-var-m-bottom_small slds-var-p-top_small">Job Application</h2>
        <div class="ja-info text-size-1_5-em slds-grid slds-wrap slds-grid_align-space slds-text-align_center">
            <template for:each={jobApplication.fields} for:item="field" >
                <p key={field.key} class="ja-info__item slds-col slds-var-p-bottom_small"><b>{field.key}:</b> {field.value}</p>
            </template>
        </div>
        <b class="text-size-1_5-em">Cover Letter:</b><p class="ja-info__cover-letter text-size-1_5-em">{jobApplication.coverLetter}</p>
    </lightning-modal-body>
    <lightning-modal-footer>
        <lightning-button label="OK" onclick={handleOkay}></lightning-button>
    </lightning-modal-footer>
</template>
